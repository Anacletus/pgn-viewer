$grid-side-column: fit-content(38.2%);
$player-height: 2em;
$controls-height: 3em;

.lpv {
  display: grid;
  overflow: hidden;
  grid-template-columns: auto $grid-side-column;
  grid-row-gap: 0;
  grid-template-areas:
    'board      side'
    'controls   side';
  grid-template-rows: auto $controls-height;

  &--full-screen {
    grid-template-columns: minmax(200px, calc(100vh - #{$controls-height})) $grid-side-column;
  }

  &--players {
    grid-template-areas:
      'player-top side'
      'board      side'
      'player-bot side'
      'controls   side';
    grid-template-rows: $player-height auto $player-height $controls-height;

    &.lpv--full-screen {
      grid-template-columns: minmax(200px, calc(100vh - 2 * #{$player-height} - #{$controls-height})) $grid-side-column;
    }
  }

  &__board {
    grid-area: board;
  }
  &__side {
    grid-area: side;
  }
  &__player--top {
    grid-area: player-top;
  }
  &__player--bottom {
    grid-area: player-bot;
  }
  &__controls {
    grid-area: controls;
  }
  &__menu,
  &__pgn {
    grid-area: 1 / 1 / 2 / 2;
    .lpv--players & {
      grid-area: 1 / 1 / 4 / 2;
    }
  }
}
